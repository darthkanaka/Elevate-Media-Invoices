<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Create Recurring Invoice - Elevate Media">
  <title>Create Invoice - Elevate Media</title>
  <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="header-content">
      <a href="../index.html" class="logo">
        <img src="https://images.squarespace-cdn.com/content/62cdf8a27898e2439f8cd217/2456dcbb-e19e-41a5-a011-959883c45748/Full+Logo.png?content-type=image%2Fpng" alt="Elevate Media">
      </a>
      <a href="../index.html" class="back-link">&larr; Back</a>
    </div>
  </header>

  <!-- Main Content -->
  <main class="container">
    <h1 id="page-title" class="page-title">Create Invoice</h1>

    <!-- Alert Container -->
    <div id="alert-container"></div>

    <!-- Invoice Form -->
    <form id="invoice-form" class="card">
      <!-- Send To -->
      <div class="form-group">
        <label for="send-to" class="form-label">
          Send To <span class="required">*</span>
        </label>
        <input
          type="text"
          id="send-to"
          class="form-input"
          placeholder="email@example.com"
          required
        >
        <p class="form-hint">Separate multiple emails with commas</p>
      </div>

      <!-- Pay Period Selection -->
      <div class="form-group">
        <label for="periods-forward" class="form-label">Periods Forward</label>
        <input
          type="number"
          id="periods-forward"
          class="form-input"
          value="1"
          min="0"
          max="26"
          style="max-width: 100px;"
        >
        <p class="form-hint">Number of 2-week periods from Dec 12, 2024</p>
      </div>

      <!-- Pay Period Dates (Read-only) -->
      <div class="form-group">
        <label class="form-label">Pay Period</label>
        <div id="pay-period-display" class="pay-period-display">
          <div class="pay-period-dates">
            <span id="period-start">-</span> to <span id="period-end">-</span>
          </div>
          <div class="pay-period-weeks">
            <div>Week 1: <span id="week1-dates">-</span></div>
            <div>Week 2: <span id="week2-dates">-</span></div>
          </div>
        </div>
      </div>

      <!-- Hours -->
      <div class="form-grid form-grid-2">
        <div class="form-group">
          <label for="week1-hours" class="form-label">Week 1 Hours</label>
          <input
            type="number"
            id="week1-hours"
            class="form-input"
            value="40"
            min="0"
            max="168"
            step="0.5"
          >
        </div>
        <div class="form-group">
          <label for="week2-hours" class="form-label">Week 2 Hours</label>
          <input
            type="number"
            id="week2-hours"
            class="form-input"
            value="40"
            min="0"
            max="168"
            step="0.5"
          >
        </div>
      </div>

      <!-- Project Description -->
      <div class="form-group">
        <label for="project-description" class="form-label">Project Description</label>
        <textarea
          id="project-description"
          class="form-textarea"
          placeholder="Describe the work completed during this period..."
          rows="4"
        ></textarea>
      </div>

      <!-- Expenses -->
      <div class="form-group">
        <label class="form-label">Expenses</label>
        <div id="expenses-container" class="expense-list">
          <div class="expense-item">
            <input
              type="text"
              class="form-input expense-description"
              placeholder="Description"
            >
            <input
              type="number"
              class="form-input expense-amount"
              placeholder="0.00"
              step="0.01"
              min="0"
            >
            <button type="button" class="btn btn-secondary btn-icon" disabled style="opacity: 0.3;">
              &times;
            </button>
          </div>
        </div>
        <button type="button" id="add-expense-btn" class="btn btn-secondary btn-sm mt-1">
          + Add Expense
        </button>
      </div>

      <!-- Submit Button -->
      <div class="action-bar">
        <button type="submit" class="btn btn-primary">
          Submit Invoice
        </button>
      </div>
    </form>

    <!-- Info Card -->
    <div class="card mt-2">
      <p style="font-size: 0.875rem; color: var(--text-secondary);">
        <strong>Note:</strong> This invoice will be generated as a PDF and emailed to the recipient(s).
        A copy will also be sent to kawika@elevatemediahi.com.
      </p>
    </div>
  </main>

  <!-- Scripts -->
  <script src="../js/supabase-client.js"></script>
  <script src="../js/app.js"></script>
</body>
</html>
